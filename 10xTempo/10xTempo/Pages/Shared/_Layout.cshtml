<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"] - Tempo</title>
    <script type="importmap"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;600;700&display=swap"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/%40picocss/pico@2/css/pico.min.css"/>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true"/>
    <link rel="stylesheet" href="~/_10xTempo.styles.css" asp-append-version="true"/>
</head>
<body>
@{
    var currentPage = Context.GetRouteValue("page")?.ToString();
    var hideHeader = string.Equals(currentPage, "/Index", StringComparison.OrdinalIgnoreCase) && !(User.Identity?.IsAuthenticated ?? false);
}
@if (!hideHeader)
{
    <header class="container">
        <nav>
            <ul>
                <li><a class="brand" asp-area="" asp-page="/Index">Tempo</a></li>
                @if (User.Identity?.IsAuthenticated ?? false)
                {
                    <li><a asp-area="" asp-page="/Companies/Index">Companies</a></li>
                    <li><a asp-area="" asp-page="/Reports/Index">Reports</a></li>
                    <li><a asp-area="" asp-page="/Reports/Approve">Approvals</a></li>
                }
            </ul>
            <partial name="_LoginPartial"/>
        </nav>
    </header>
}
<main class="container" role="main">
    @if (TempData["Flash"] is string flashMessage)
    {
        <div class="callout success">@flashMessage</div>
    }
    @RenderBody()
</main>

<footer class="container">
    <small>&copy; 2026 - Tempo - <a asp-area="" asp-page="/Privacy">Privacy</a></small>
</footer>

<script src="~/js/site.js" asp-append-version="true"></script>

@await RenderSectionAsync("Scripts", required: false)
</body>
</html>
